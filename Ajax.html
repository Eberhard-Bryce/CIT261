<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>AJAX</title>
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" type="text/css" href='mainstyle.css'>
    <link rel="stylesheet" type="text/css" href='flexnav.css'>
    <script>
        $(document).ready(function () {
            //jQuery code goes here
        })
    </script>
    <script type = "application/javascript">
    function getWeather() {
        
        var input = document.getElementById("city").value;
        var url = "http://api.openweathermap.org/data/2.5/weather?q=" + input + "&APPID=acca11a93d941d7d6ae5c50f3933b54b&units=imperial";
         var request = new XMLHttpRequest();
      request.onreadystatechange = function(){
          
          if (request.readyState == 4) {
              var data = JSON.parse(request.responseText);
              document.getElementById("city").innerHTML = data.name;
              document.getElementById("temp").innerHTML = data.main.temp;
              document.getElementById("weather").innerHTML = data.weather[0].description;
              document.getElementById("humidity").innerHTML = data.main.humidity;
              document.getElementById("wind").innerHTML = data.wind.speed;
          }
      }
      request.open("GET", url, true);
        request.send();
    }
    </script>
    
</head>

<body>
    <script>
        function topNavButton() {
            document.getElementsByClassName("topnav")[0].classList.toggle("responsive");
        }
    </script>
    <header id="webBanner">
        <div class="center" id="wrapper">
            <img id="navBackImg" src="blackheader.png" alt="navback" height="75" style="width: 100%;">
            <h1 id="webHead">CIT 261</h1>
        </div>
        <nav>

            <div class="navigation">

                <div><a href="index.html">Home</a></div>
                <div class="dropdown">
                    <button class="dropbtn">Topics Menu</button>
                    <div class="dropdown-content">
                      <a href="index.html">Home Page</a>
                      <a href="JavaScript.html">Java Script</a>
                      <a href="JavaScript%20Objects.html">Java Script Objects</a>
                      <a href="JSON.html">JSON</a>  
                      <a href="Ajax.html">Ajax</a>
                      <a href="Local%20Storage.html">Local Storage</a>
                      <a href="DOM.html">DOM</a>
                      <a href="CSS%20Class%20Properties.html">CSS Class Properties</a> 
                      <a href="JavaScript%20Events.html">Java Script Events</a>
                      <a href="HTML5%20Tags.html">HTML5 Tags</a>
                      <a href="CSS3%20Transitions.html">CSS3 Transitions</a>
                      <a href="CSS3%20Transforms.html">CSS3 Transforms</a>
                      <a href="CSS3%20Animations.html">CSS3 Animations</a>
                        <a href="CSS3%20Transitions%20and%20Animations.html">CSS3 with JavaScript</a>
                    </div>
                </div>   
        </nav>
    </header>
    <main>
        <h1 class="center"> Current Weather</h1>
        <ul class="center">
            <li>Summary:This page is using the open weather API to allow the user to search the current temperature, description, humidity, and wind. This is then displayed with AJAX. Please use the search bar below to search the weather report for any city. Spelling matters and if you misspell the city you will not get the results back.</li>
        </ul>
        
        <div class="center">
        <h3 class="center">Enter City Name</h3>
        </div>
        
        <div class="center">
        <input type="text" id="city" placeholder="City Name">
        <button id="run" onclick="getWeather()">Search City</button>
        </div>
        
        <div id="center">
        <table align="center">
         <tr><th>City:</th><th id="city"></th></tr>
         <tr><td><div>Temperature(F):</div></td>
         <td><div id = "temp"></div></td></tr>
         <tr><td><div>Weather:</div></td>
         <td><div id = "weather"></div></td></tr>
         <tr><td><div>Humidity(%):</div></td>
         <td><div id = "humidity"></div></td></tr>
         <tr><td><div>Wind(mph):</div></td>
         <td><div id = "wind"></div></td></tr>
      </table>
        </div>
    </main>
    <footer>
        <small id="flexFooter"> Last Updated: Feb 21, 2019</small>
    </footer>
</body>

</html>
